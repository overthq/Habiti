fragment OrderMetaDetails on orders {
	id
	user {
		id
		name
	}
	status
	order_items {
		id
		unit_price
		quantity
	}
	created_at
	updated_at
}

fragment OrderDetails on orders {
	id
	user {
		id
		name
	}
	status
	order_items {
		id
		item {
			name
		}
		unit_price
		quantity
	}
}

query Orders {
	orders {
		...OrderMetaDetails
	}
}

query Order($orderId: uuid!) {
	orders(where: { id: { _eq: $orderId } }) {
		...OrderDetails
	}
}

mutation UpdateOrder($orderId: uuid!, $input: orders_set_input!) {
	update_orders_by_pk(pk_columns: { id: $orderId }, _set: $input) {
		id
	}
}
